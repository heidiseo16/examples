name: mistral-chatbot
message: Quickstart to serve mistral chatbot!
image: quay.io/vessl-ai/torch:2.1.0-cuda12.2-r3
resources:
  cluster: vessl-gcp-oregon
  preset: gpu-l4-small-spot
import:
  /code/:
    git:
      url: github.com/vessl-ai/examples.git
      ref: vssl-8476
run:
- command: |
    pip install -r requirements.txt
    python -m api --model $MODEL_NAME --max-model-len 4096 --disable-log-requests
  workdir: /code/serve-quickstart
env:
  MODEL_NAME: mistralai/Mistral-7B-Instruct-v0.2
ports:
- port: 8000
service:
  autoscaling:
    max: 2
    metric: cpu
    min: 1
    target: 50
  expose: 8000
