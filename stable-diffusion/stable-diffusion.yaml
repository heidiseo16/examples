name: stable-diffusion
resources:
  cluster: aws-uw2
  accelerators: V100:1
image: quay.io/vessl-ai/ngc-pytorch-kernel:22.12-py3-202301160809
volumes:
  /root/examples: git://github.com/vessl-ai/examples/
run:
  - workdir: /root/examples/stable-diffusion
    command: |
      bash ./setup.sh && streamlit run main.py
interactive:
  runtime: 24h
  ports:
    - 8501
